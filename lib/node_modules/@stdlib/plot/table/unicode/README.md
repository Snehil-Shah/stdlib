<!--

@license Apache-2.0

Copyright (c) 2025 The Stdlib Authors.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

-->

# Unicode Table

> Create a Unicode table.

<section class="usage">

## Usage

```javascript
var UnicodeTable = require( '@stdlib/plot/table/unicode' );
```

#### UnicodeTable( \[data,] \[options] )

Returns a table instance.

```javascript
var table = new UnicodeTable();
```

The constructor accepts the following arguments:

-   **data**: table data provided as either an object, an array of objects, an array of arrays, or a two-dimensional [ndarray][@stdlib/ndarray/ctor] (_optional_).
-   **options**: constructor options (_optional_).

The constructor accepts the following `options`:

-   **align**: alignment of data within table cells. Must be one of the following:

    -   `'right'`: right-aligned.
    -   `'left'`: left-aligned.
    -   `'center'`: center-aligned.

    To specify the alignment of data within each table column, provide an array of alignment specifiers. Default: `'right'`.

-   **autoRender**: boolean indicating whether to automatically re-render a table on a `change` event. Default: `false`.

-   **borderTop**: top table border character(s). Default: `'-'`.

-   **borderRight**: right table border character(s). Default: `'|'`.

-   **borderBottom**: bottom table border character(s). Default: `'-'`.

-   **borderLeft**: left table border character(s). Default: `'|'`.

-   **borders**: table border characters in the order `[top, right, bottom, left]`. This is a shorthand option instead of specifying borders individually. Default: `[ '─', '│', '─', '│' ]`.

-   **bufferSize**: data buffer size. If specified, data is kept in a first-in first-out (FIFO) buffer which cannot exceed the specified buffer size. Default: `+infinity`.

-   **columnSeparator**: column separator character(s). Default: `'│'`.

-   **cornerTopLeft**: top-left table corner grapheme cluster (i.e., visual character). Default: `'┌'`.

-   **cornerTopRight**: top-right table corner grapheme cluster (i.e., visual character). Default: `'┌'`.

-   **cornerBottomRight**: bottom-right table corner grapheme cluster (i.e., visual character). Default: `'┘'`.

-   **cornerBottomLeft**: bottom-left table corner grapheme cluster (i.e., visual character). Default: `'└'`.

-   **corners**: table corner grapheme clusters (i.e., visual characters) in the order `[top-left, top-right, bottom-right, bottom-left]`. This is a shorthand option instead of specifying corner character sequences individually. Default: `[ '┌', '┐', '┘', '└' ]`.

-   **format**: cell [format][@stdlib/string/format] string(s). Default: `'%s'`.

-   **headers**: table headers.

-   **headerSeparator**: header separator character(s). Default: `'─'`.

-   **horizontalSeparatorMode**: horizontal line separator mode. Must be one of the following:

    -   `resume`: resume line sequence after a joint.
    -   `interpolate`: skip line character at a joint.
    -   `repeat`: repeat line sequence after a joint.

    Default: `'resume'`.

-   **jointMiddle**: joint grapheme cluster (i.e., visual character) connecting table cells within the middle of the table. Default: `'┼'`.

-   **jointTop**: joint grapheme cluster (i.e., visual character) connecting table cells along the top of the table. Default: `'┬'`.

-   **jointRight**: joint grapheme cluster (i.e., visual character) connecting table cells along the right of the table. Default: `'┤'`.

-   **jointBottom**: joint grapheme cluster (i.e., visual character) connecting table cells along the bottom of the table. Default: `'┴'`.

-   **jointLeft**: joint grapheme cluster (i.e., visual character) connecting table cells along the left of the table. Default: `'├'`.

-   **joints**: joint grapheme clusters (i.e., visual characters) connecting table cells in the order `[middle, top, right, bottom, left]`. This is a shorthand option instead of specifying join character sequences individually. Default: `[ '┼', '┬', '┤', '┴', '├' ]`.

-   **marginTop**: margin at the top of the table in units of blank lines. Default: `0`.

-   **marginRight**: margin to the right of the table in units of whitespace. Default: `0`.

-   **marginBottom**: margin at the bottom of the table in units of blank lines. Default: `0`.

-   **marginLeft**: margin to the left of the table in units of whitespace. Default: `0`.

-   **margins**: table margins in the order `[top, right, bottom, left]`. This is a shorthand option instead of specifying margins individually. Default: `[ 0, 0, 0, 0 ]`.

-   **maxCellWidth**: maximum cell width(s) in units of grapheme clusters (i.e., visual characters). Default: `+infinity`.

-   **maxWidth**: maximum table width in units of grapheme clusters (i.e., visual characters). Default: `+infinity`.

-   **paddingLeft**: cell left padding in units of whitespace characters. Default: `1`.

-   **paddingRight**: cell right padding in units of whitespace characters. Default: `1`.

-   **rowSeparator**: row separator character(s). Default: `''`.

-   **verticalSeparatorMode**: vertical line separator mode. Must be one of the following:

    -   `'resume'`: resume line sequence after a joint.
    -   `'interpolate'`: skip line character at a joint.
    -   `'repeat'`: repeat line sequence after a joint.

    Default: `'resume'`.

* * *

### Writable Properties

<a name="prop-align"></a>

#### UnicodeTable.prototype.align

Alignment(s) of data within table cells.

```javascript
var table = new UnicodeTable();

// Set:
table.align = 'center';

// Get:
var align = table.align;
// returns 'center'

// Set:
table.align = [ 'left', 'right', 'center' ];

// Get:
align = table.align;
// returns [ 'left', 'right', 'center' ]
```

The following alignments are supported:

-   **right**: right-aligned.
-   **left**: left-aligned.
-   **center**: center-aligned.

To specify the alignment for each column of table cells, set to an array of alignment values.

<a name="prop-auto-render"></a>

#### UnicodeTable.prototype.autoRender

Rendering mode. If `true`, an instance automatically re-renders a table on each `'change'` event; otherwise, rendering must be triggered manually.

```javascript
var table = new UnicodeTable();

// Set:
table.autoRender = false;

// Get:
var mode = table.autoRender;
// returns false
```

<a name="prop-border-top"></a>

#### UnicodeTable.prototype.borderTop

Top table border character(s).

```javascript
var table = new UnicodeTable();

// Set:
table.borderTop = '=';

// Get:
var border = table.borderTop;
// returns '='
```

<a name="prop-border-right"></a>

#### UnicodeTable.prototype.borderRight

Right table border character(s).

```javascript
var table = new UnicodeTable();

// Set:
table.borderRight = '!';

// Get:
var border = table.borderRight;
// returns '!'
```

<a name="prop-border-bottom"></a>

#### UnicodeTable.prototype.borderBottom

Bottom table border character(s).

```javascript
var table = new UnicodeTable();

// Set:
table.borderBottom = '=';

// Get:
var border = table.borderBottom;
// returns '='
```

<a name="prop-border-left"></a>

#### UnicodeTable.prototype.borderLeft

Left table border character(s).

```javascript
var table = new UnicodeTable();

// Set:
table.borderLeft = '!';

// Get:
var border = table.borderLeft;
// returns '!'
```

<a name="prop-borders"></a>

#### UnicodeTable.prototype.borders

Table border characters in the order `[ 'top', 'right', 'bottom', 'left' ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.borders = [ '=', '!', '=', '!' ];

// Get:
var borders = table.borders;
// returns [ '=', '!', '=', '!' ]
```

<a name="prop-buffer-size"></a>

#### UnicodeTable.prototype.bufferSize

Data buffer size. If set, this specifies the maximum number of rows which can be rendered. Once an internal data buffer is full, each new row results in the oldest row being removed.

```javascript
var ndarray2array = require( '@stdlib/ndarray/to-array' );

var table = new UnicodeTable();

// Set:
table.bufferSize = 3;

// Get:
var size = table.bufferSize;
// returns 3

table.data = [ [ 1, 2 ], [ 3, 4 ], [ 5, 6 ] ];

var data = ndarray2array( table.data );
// returns [ [ 1, 2 ], [ 3, 4 ], [ 5, 6 ] ]

table.push( [ 7, 8 ] );

data = ndarray2array( table.data );
// returns [ [ 3, 4 ], [ 5, 6 ], [ 7, 8 ] ]
```

Setting a data buffer size is useful when rendering data streams.

<a name="prop-column-separator"></a>

#### UnicodeTable.prototype.columnSeparator

Column separator character(s). If provided a string with multiple grapheme clusters, each grapheme cluster is rendered sequentially. No separator is rendered if provided an empty string.

```javascript
var table = new UnicodeTable();

// Set:
table.columnSeparator = '|';

// Get:
var separator = table.columnSeparator;
// returns '|'
```

<a name="prop-corner-top-left"></a>

#### UnicodeTable.prototype.cornerTopLeft

Top-left table corner grapheme cluster (i.e., visual character).

```javascript
var table = new UnicodeTable();

// Set:
table.cornerTopLeft = '*';

// Get:
var corner = table.cornerTopLeft;
// returns '*'
```

<a name="prop-corner-top-right"></a>

#### UnicodeTable.prototype.cornerTopRight

Top-right table corner grapheme cluster (i.e., visual character).

```javascript
var table = new UnicodeTable();

// Set:
table.cornerTopRight = '*';

// Get:
var corner = table.cornerTopRight;
// returns '*'
```

<a name="prop-corner-bottom-right"></a>

#### UnicodeTable.prototype.cornerBottomRight

Bottom-right table corner grapheme cluster (i.e., visual character).

```javascript
var table = new UnicodeTable();

// Set:
table.cornerBottomRight = '*';

// Get:
var corner = table.cornerBottomRight;
// returns '*'
```

<a name="prop-corner-bottom-left"></a>

#### UnicodeTable.prototype.cornerBottomLeft

Bottom-left table corner grapheme cluster (i.e., visual character).

```javascript
var table = new UnicodeTable();

// Set:
table.cornerBottomLeft = '*';

// Get:
var corner = table.cornerBottomLeft;
// returns '*'
```

<a name="prop-corners"></a>

#### UnicodeTable.prototype.corners

Table corner grapheme clusters (i.e., visual characters) in the order `[ 'top-left', 'top-right', 'bottom-right', 'bottom-left' ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.corners = [ '*', '*', '*', '*' ];

// Get:
var corners = table.corners;
// returns [ '*', '*', '*', '*' ]
```

<a name="prop-data"></a>

#### UnicodeTable.prototype.data

Table data.

```javascript
var ndarray2array = require( '@stdlib/ndarray/to-array' );

var table = new UnicodeTable();

// Set:
table.data = [ [ 1, 2 ], [ 3, 4 ] ];

// Get:
var data = ndarray2array( table.data );
// returns [ [ 1, 2 ], [ 3, 4 ] ]
```

The returned [ndarray][@stdlib/ndarray/ctor] is a **read-only** view of table data.

<a name="prop-format"></a>

#### UnicodeTable.prototype.format

Cell [format][@stdlib/string/format] string(s) for rendering cell contents.

```javascript
var table = new UnicodeTable();

// Set:
table.format = '%d';

// Get:
var fmt = table.format;
// returns '%d'

// Set:
table.format = [ '%s', '%d' ];

// Get:
fmt = table.format;
// returns [ '%s', '%d' ]
```

<a name="prop-headers"></a>

#### UnicodeTable.prototype.headers

Table headers.

```javascript
var table = new UnicodeTable();

// Set:
table.headers = [ 'A', 'B' ];

// Get:
var headers = table.headers;
// returns [ 'A', 'B' ]
```

<a name="prop-header-separator"></a>

#### UnicodeTable.prototype.headerSeparator

Header separator character(s). If provided a string with multiple grapheme clusters, each grapheme cluster is rendered sequentially. No separator is rendered if provided an empty string.

```javascript
var table = new UnicodeTable();

// Set:
table.headerSeparator = '-';

// Get:
var separator = table.headerSeparator;
// returns '-'
```

<a name="prop-horizontal-separator-mode"></a>

#### UnicodeTable.prototype.horizontalSeparatorMode

Horizontal line separator mode.

```javascript
var table = new UnicodeTable();

// Set:
table.horizontalSeparatorMode = 'interpolate';

// Get:
var mode = table.horizontalSeparatorMode;
// returns 'interpolate'
```

The following modes are supported:

-   **resume**: resume line sequence after a joint.
-   **interpolate**: skip line character at a joint.
-   **repeat**: repeat line sequence after a joint.

<a name="prop-joint-middle"></a>

#### UnicodeTable.prototype.jointMiddle

Joint grapheme cluster (i.e., visual character) connecting cells within the middle of the table.

```javascript
var table = new UnicodeTable();

// Set:
table.jointMiddle = '*';

// Get:
var joint = table.jointMiddle;
// returns '*'
```

<a name="prop-joint-top"></a>

#### UnicodeTable.prototype.jointTop

Joint grapheme cluster (i.e., visual character) connecting cells along the top of the table.

```javascript
var table = new UnicodeTable();

// Set:
table.jointTop = '*';

// Get:
var joint = table.jointTop;
// returns '*'
```

<a name="prop-joint-right"></a>

#### UnicodeTable.prototype.jointRight

Joint grapheme cluster (i.e., visual character) connecting cells along the right side of the table.

```javascript
var table = new UnicodeTable();

// Set:
table.jointRight = '*';

// Get:
var joint = table.jointRight;
// returns '*'
```

<a name="prop-joint-bottom"></a>

#### UnicodeTable.prototype.jointBottom

Joint grapheme cluster (i.e., visual character) connecting cells along the bottom of the table.

```javascript
var table = new UnicodeTable();

// Set:
table.jointBottom = '*';

// Get:
var joint = table.jointBottom;
// returns '*'
```

<a name="prop-joint-left"></a>

#### UnicodeTable.prototype.jointLeft

Joint grapheme cluster (i.e., visual character) connecting cells along the left side of the table.

```javascript
var table = new UnicodeTable();

// Set:
table.jointLeft = '*';

// Get:
var joint = table.jointLeft;
// returns '*'
```

<a name="prop-joints"></a>

#### UnicodeTable.prototype.joints

Joint grapheme clusters (i.e., visual characters) in the order `[ 'middle', 'top', 'right', 'bottom', 'left' ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.joints = [ '*', '*', '*', '*', '*' ];

// Get:
var joints = table.joints;
// returns [ '*', '*', '*', '*', '*' ]
```

<a name="prop-margin-top"></a>

#### UnicodeTable.prototype.marginTop

Margin at the top of the table in units of blank lines.

```javascript
var table = new UnicodeTable();

// Set:
table.marginTop = 2;

// Get:
var margin = table.marginTop;
// returns 2
```

<a name="prop-margin-right"></a>

#### UnicodeTable.prototype.marginRight

Margin to the right of the table in units of whitespace.

```javascript
var table = new UnicodeTable();

// Set:
table.marginRight = 2;

// Get:
var margin = table.marginRight;
// returns 2
```

<a name="prop-margin-bottom"></a>

#### UnicodeTable.prototype.marginBottom

Margin at the bottom of the table in units of blank lines.

```javascript
var table = new UnicodeTable();

// Set:
table.marginBottom = 2;

// Get:
var margin = table.marginBottom;
// returns 2
```

<a name="prop-margin-left"></a>

#### UnicodeTable.prototype.marginLeft

Margin to the left of the table in units of whitespace.

```javascript
var table = new UnicodeTable();

// Set:
table.marginLeft = 2;

// Get:
var margin = table.marginLeft;
// returns 2
```

<a name="prop-margins"></a>

#### UnicodeTable.prototype.margins

Table margins in the order of `[ top, right, bottom, left ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.margins = [ 2, 2, 2, 2 ];

// Get:
var margins = table.margins;
// returns [ 2, 2, 2, 2 ]
```

<a name="prop-max-cell-width"></a>

#### UnicodeTable.prototype.maxCellWidth

Maximum cell width in units of grapheme clusters (i.e., visual characters). If cell data is longer than the maximum cell width, the rendered cell data is truncated. To specify the maximum cell width for each column of cells, provide an array of maximum cell widths.

```javascript
var table = new UnicodeTable();

// Set:
table.maxCellWidth = 10;

// Get:
var width = table.maxCellWidth;
// returns 10

// Set:
table.maxCellWidth = [ 10, 15 ];

// Get:
width = table.maxCellWidth;
```

<a name="prop-max-width"></a>

#### UnicodeTable.prototype.maxWidth

Maximum table width in units of grapheme clusters (i.e., visual characters). If the generated table is longer than the maximum table width, a generated table is split into multiple tables.

```javascript
var table = new UnicodeTable();

// Set:
table.maxWidth = 200;

// Get:
var width = table.maxWidth;
// returns 200
```

<a name="prop-padding-left"></a>

#### UnicodeTable.prototype.paddingLeft

Cell left padding(s) in units of whitespace. To specify the padding of each column of table cells, provide an array of paddings.

```javascript
var table = new UnicodeTable();

// Set:
table.paddingLeft = 3;

// Get:
var padding = table.paddingLeft;
// returns 3

// Set:
table.paddingLeft = [ 3, 4 ];

// Get:
padding = table.paddingLeft;
// returns [ 3, 4 ]
```

<a name="prop-padding-right"></a>

#### UnicodeTable.prototype.paddingRight

Cell right padding(s) in units of whitespace. To specify the padding of each column of table cells, provide an array of paddings.

```javascript
var table = new UnicodeTable();

// Set:
table.paddingRight = 3;

// Get:
var padding = table.paddingRight;
// returns 3

// Set:
table.paddingRight = [ 3, 4 ];

// Get:
padding = table.paddingRight;
// returns [ 3, 4 ]
```

<a name="prop-row-separator"></a>

#### UnicodeTable.prototype.rowSeparator

Row separator character(s). If provided a string with multiple grapheme clusters, each grapheme cluster is rendered sequentially. No separator is rendered if provided an empty string.

```javascript
var table = new UnicodeTable();

// Set:
table.rowSeparator = '-';

// Get:
var separator = table.rowSeparator;
// returns '-'
```

<a name="prop-vertical-separator-mode"></a>

#### UnicodeTable.prototype.verticalSeparatorMode

Vertical line separator mode.

```javascript
var table = new UnicodeTable();

// Set:
table.verticalSeparatorMode = 'interpolate';

// Get:
var mode = table.verticalSeparatorMode;
// returns 'interpolate'
```

The following modes are supported:

-   **resume**: resume line sequence after a joint.
-   **interpolate**: skip line character at a joint.
-   **repeat**: repeat line sequence after a joint.

* * *

### Methods

<a name="method-get"></a>

#### UnicodeTable.prototype.get( i, j )

Retrieves the data for a specified table cell.

```javascript
var ndarray2array = require( '@stdlib/ndarray/to-array' );

var table = new UnicodeTable( [ [ 1, 2, 3 ], [ 4, 5, 6 ] ] );

// Retrieve individual cell data:
var v = table.get( 0, 0 );
// returns 1

v = table.get( 1, 2 );
// returns 6
```

<a name="method-push"></a>

#### UnicodeTable.prototype.push( data )

Appends one or more rows to table data. Each provided row must have the same number of columns as existing table data.

```javascript
var ndarray2array = require( '@stdlib/ndarray/to-array' );

var table = new UnicodeTable( [ [ 1, 2, 3 ], [ 4, 5, 6 ] ] );

// Get:
var data = ndarray2array( table.data );
// returns [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]

// Push:
table.push( [ 7, 8, 9 ] );

// Get:
data = ndarray2array( table.data );
// returns [ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ] ]
```

<a name="method-render"></a>

#### UnicodeTable.prototype.render()

Renders a Unicode table.

```javascript
var headers = [ 'col1', 'col2', 'col3' ];
var data = [ [ 1, 2, 3 ], [ 4, 5, 6 ] ];

var table = new UnicodeTable( data, {
    'headers': headers
});

var str = table.render();
// returns '...'
```

<a name="method-set"></a>

#### UnicodeTable.prototype.set( i, j, value )

Sets the data for a specified table cell to a provided value.

```javascript
var ndarray2array = require( '@stdlib/ndarray/to-array' );

var table = new UnicodeTable( [ [ 1, 2, 3 ], [ 4, 5, 6 ] ] );

// Retrieve individual cell data:
var v = table.get( 1, 1 );
// returns 5

table.set( 1, 1, 7 );

v = table.get( 1, 1 );
// returns 7
```

* * *

### Events

#### 'change'

Emitted whenever a property value changes.

```javascript
var table = new UnicodeTable();

table.on( 'change', onChange );

function onChange() {
    console.log( 'A property was updated.' );
}
```

#### 'render'

Emitted whenever a table is rendered.

```javascript
var table = new UnicodeTable();

table.on( 'render', onRender );

function onRender( str ) {
    console.log( 'Rendered table: %s', str );
}
```

</section>

<!-- /.usage -->

<section class="notes">

* * *

## Notes

-   Once a table instance has resolved the number of table columns (e.g., by setting table headers, binding table data, specifying column paddings, or specifying column alignments), the number of table columns is fixed. In order to remove or add table columns, create a new table instance with the desired configuration.

</section>

<!-- /.notes -->

<section class="examples">

* * *

## Examples

<!-- eslint-disable stdlib/no-redeclare -->

<!-- eslint no-undef: "error" -->

```javascript
var uniform = require( '@stdlib/random/array/uniform' );
var array = require( '@stdlib/ndarray/array' );
var UnicodeTable = require( '@stdlib/plot/table/unicode' );

// Generate a random data set:
var data = array( uniform( 50, 1.0, 100.0 ), {
    'shape': [ 10, 5 ]
});

// Define column headers:
var headers = [ 'A', 'B', 'C', 'D', 'E' ];

// Create a table:
var table = new UnicodeTable( data, {
    'headers': headers,
    'rowSeparator': '-',
    'columnSeparator': '#$%',
    'maxWidth': 200,
    'marginLeft': 5,
    'marginRight': 5,
    'align': 'right'
});

// Render the table:
var str = table.render();
console.log( str );
// => '...'

// Push new data to the table:
table.push( [ 1.0, 2.0, 3.0, 4.0, 5.0 ] );

// Re-render the table:
str = table.render();
console.log( str );
// => '...'

// Limit the number of table rows:
table.bufferSize = 10;

// Re-render the table:
str = table.render();
console.log( str );
// => '...'

// Push new data to the table:
table.push( [ 6.0, 7.0, 8.0, 9.0, 10.0 ] );

// Re-render the table:
str = table.render();
console.log( str );
// => '...'

// Increase the number of allowed table rows:
table.bufferSize = 15;

// Push new data to the table:
table.push( [ 11.0, 12.0, 13.0, 14.0, 15.0 ] );

// Re-render the table:
str = table.render();
console.log( str );
// => '...'
```

</section>

<!-- /.examples -->

<!-- Section for related `stdlib` packages. Do not manually edit this section, as it is automatically populated. -->

<section class="related">

</section>

<!-- /.related -->

<!-- Section for all links. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="links">

[@stdlib/ndarray/ctor]: https://github.com/stdlib-js/stdlib/tree/develop/lib/node_modules/%40stdlib/ndarray/ctor

[@stdlib/string/format]: https://github.com/stdlib-js/stdlib/tree/develop/lib/node_modules/%40stdlib/string/format

<!-- <related-links> -->

<!-- </related-links> -->

</section>

<!-- /.links -->
